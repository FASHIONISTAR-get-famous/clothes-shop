<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 3.2//EN">


<html ng-app="clothesShop">
  <head>
    <title>Clothes Shop</title>
    <link rel="stylesheet" href="bower_components/bootstrap/dist/css/bootstrap.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">
    <link rel="stylesheet" type="text/css" href="css/style.css">
    <link rel="stylesheet" href="css/animate.css">
    <script src="bower_components/jquery/dist/jquery.js"></script>
    <script src="bower_components/angular/angular.js"></script>
    <script src="bower_components/angular-resource/angular-resource.js"></script>
    <script src="js/app.js"></script>
    <script src="js/clothesShopController.js"></script>
    <script src="js/clothesShopFactory.js"></script>
  </head>

  <body ng-controller="clothesShopController as clothesCtrl">
    <header>
    <h3> Clothes Shoop </h3>
    </header>
    <div ng-show="clothesCtrl.list">
      <div class="panel panel-default"  ng-repeat="item in clothesCtrl.searchResult">
        <ul class="list-group">
          <img src="{{ item.image }}" class="img">
          <a class="list-group-item" ng-click="clothesCtrl.addItem(item)">{{item.name}}<br>Price: {{ item.price
            }}  Quantity: {{ item.quantity }}<i class="fa fa-plus"></i></a>
        </ul>
      </div>
      <div>
        <button ng-click="clothesCtrl.toCart()">Cart</button>
      </div>
    </div>
    <br>
    <div class="total">
      Total: {{ clothesCtrl.sum() | currency:"£" }}
    </div>

    <div class="discount" ng-show="clothesCtrl.checkout">
      <button ng-click="clothesCtrl.toCart()">Back</button>
      <div class="list-group" ng-repeat="item in clothesCtrl.cart">
        <ul>
          {{ item.name }} {{ item.quantity }} {{ item.category }}
          <input type="number" placeholder='quantity' ng-model="clothesCtrl.cart[$index].quantity">
          <button ng-click='clothesCtrl.cart.splice($index, 1)'>remove</button>
        </ul>
      </div>

      <form name="myForm">
        <input type='text' name="voucher" placeholder="Insert your voucher" ng-minlength="6"
        ng-maxlength="7" ng-model="clothesCtrl.voucher">
        <button ng-click="clothesCtrl.discount()">Confirm</button>
        <span class="newTot">Total after discount: {{ clothesCtrl.discount() |
          currency:"£" }}</span>
        <div role="alert">
          <span class="error" ng-show="myForm.voucher.$error.minlength">Too
            short!</span>
          <span class="error" ng-show="myForm.voucher.$error.maxlength">Too
            long!</span>
        </div>
      </form>
    </div>
    <br>
  </body>
</html>

